{% extends "base.html" %} {% block content %}
<h1>Summary</h1>

<h3>Selected Security Level</h3>
<p>{{ responses['selected_level'] }}</p>

<h3>Selected Stages</h3>
<ul>
  {% for stage in responses['stages'] %}
  <li>{{ stage }}</li>
  {% endfor %}
</ul>

<h3>Selected Tools</h3>
<ul>
  {% for stage, tool_dict in responses['tools'].items() %}
  <li>
    <strong>{{ stage }}:</strong>
    <ul>
      <li>
        <em>Standard Tools</em>:
        <ul>
          {% for std_tool in tool_dict.standard %}
          <li>{{ std_tool }}</li>
          {% endfor %}
        </ul>
      </li>
      <li>
        <em>Custom Tools</em>:
        <ul>
          {% for c_tool in tool_dict.custom %}
          <li>{{ c_tool }}</li>
          {% endfor %}
        </ul>
      </li>
    </ul>
  </li>
  {% endfor %}
</ul>
<!-- snippet in templates/summary.html -->
<h3>Activities</h3>
{% if responses.activities %}
<ul>
  {% for act_item in responses.activities %}
  <li>
    <strong>{{ act_item.activity }}</strong>
    ({{ act_item.status }})
    <br>
    <em>{{ act_item.description }}</em>
    <br>
    <strong>Tools Chosen:</strong> 
    {% if act_item.tools %}
      <ul>
      {% for t_name, t_status in act_item.tools.items() %}
        <li>{{ t_name }} ({{ t_status }})</li>
      {% endfor %}
      </ul>
    {% else %}
      none
    {% endif %}
    {% if act_item.custom %}
      <p>Custom Tools: {{ act_item.custom|join(", ") }}</p>
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% else %}
<p>No activities data yet.</p>
{% endif %}

<a href="/" class="btn btn-secondary">Home</a>
{% endblock %}
